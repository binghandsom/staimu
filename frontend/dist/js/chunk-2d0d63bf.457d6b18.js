(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d63bf"],{"724b":function(a,e,t){"use strict";t.r(e);var n=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("AkademikLayout",{scopedSlots:a._u([{key:"filtersidebar",fn:function(){return[t("Filter2",{ref:"filter2",on:{changeTahunAkademik:a.changeTahunAkademik,changeSemesterAkademik:a.changeSemesterAkademik}})]},proxy:!0}])},[t("ModuleHeader",{scopedSlots:a._u([{key:"icon",fn:function(){return[a._v(" mdi-monitor-dashboard ")]},proxy:!0},{key:"name",fn:function(){return[a._v(" PEMBAGIAN KELAS ")]},proxy:!0},{key:"subtitle",fn:function(){return[a._v(" TAHUN AKADEMIK "+a._s(a.tahun_akademik)+" SEMESTER "+a._s(a.$store.getters["uiadmin/getNamaSemester"](a.semester_akademik))+" ")]},proxy:!0},{key:"breadcrumbs",fn:function(){return[t("v-breadcrumbs",{staticClass:"pa-0",attrs:{items:a.breadcrumbs},scopedSlots:a._u([{key:"divider",fn:function(){return[t("v-icon",[a._v("mdi-chevron-right")])]},proxy:!0}])})]},proxy:!0},{key:"desc",fn:function(){return[t("v-alert",{attrs:{color:"cyan",border:"left","colored-border":"",type:"info"}},[a._v(" Halaman untuk melakukan pembentukan kelas yang akan diselenggarakan dan juga dikaitkan dengan penyelenggaraan matakuliah. ")])]},proxy:!0}])}),t("v-container",{attrs:{fluid:""}},[t("v-row",{staticClass:"mb-4",attrs:{"no-gutters":""}},[t("v-col",{attrs:{cols:"12"}},[t("v-card",[t("v-card-text",[t("v-text-field",{attrs:{"append-icon":"mdi-database-search",label:"Search","single-line":"","hide-details":""},model:{value:a.search,callback:function(e){a.search=e},expression:"search"}})],1)],1)],1)],1),t("v-row",{staticClass:"mb-4",attrs:{"no-gutters":""}},[t("v-col",{attrs:{cols:"12"}},[t("v-data-table",{staticClass:"elevation-1",attrs:{headers:a.headers,items:a.datatable,search:a.search,"item-key":"id","show-expand":"",expanded:a.expanded,"single-expand":!0,"disable-pagination":!0,"hide-default-footer":!0,loading:a.datatableLoading,"loading-text":"Loading... Please wait"},on:{"update:expanded":function(e){a.expanded=e},"click:row":a.dataTableRowClicked},scopedSlots:a._u([{key:"top",fn:function(){return[t("v-toolbar",{attrs:{flat:"",color:"white"}},[t("v-toolbar-title",[a._v("DAFTAR PEMBAGIAN KELAS")]),t("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t("v-spacer"),a.CAN_ACCESS("AKADEMIK-PERKULIAHAN-PEMGBAGIAN-KELAS_STORE")?t("v-btn",{staticClass:"ma-2",attrs:{color:"primary",icon:"",outlined:"",small:"",to:"/akademik/perkuliahan/pembagiankelas/tambah"}},[t("v-icon",[a._v("mdi-plus")])],1):a._e(),t("v-btn",{staticClass:"ma-2",attrs:{color:"primary",icon:"",outlined:"",small:""}},[t("v-icon",[a._v("mdi-printer")])],1),t("v-dialog",{attrs:{"max-width":"750px",persistent:""},model:{value:a.dialogfrm,callback:function(e){a.dialogfrm=e},expression:"dialogfrm"}},[t("v-form",{ref:"frmdata",attrs:{"lazy-validation":""},model:{value:a.form_valid,callback:function(e){a.form_valid=e},expression:"form_valid"}},[t("v-card",[t("v-card-title",[t("span",{staticClass:"headline"},[a._v("UBAH DATA KELAS")])]),t("v-card-text",[t("v-row",[t("v-col",{attrs:{cols:"4"}},[t("v-select",{attrs:{items:a.daftar_hari,label:"HARI",rules:a.rule_hari,outlined:""},model:{value:a.formdata.hari,callback:function(e){a.$set(a.formdata,"hari",e)},expression:"formdata.hari"}})],1),t("v-col",{attrs:{cols:"4"}},[t("v-text-field",{attrs:{label:"JAM MASUK (contoh: 04:00)",outlined:"",rules:a.rule_jam_masuk},model:{value:a.formdata.jam_masuk,callback:function(e){a.$set(a.formdata,"jam_masuk",e)},expression:"formdata.jam_masuk"}})],1),t("v-col",{attrs:{cols:"4"}},[t("v-text-field",{attrs:{label:"JAM KELUAR (contoh: 06:00)",outlined:"",rules:a.rule_jam_keluar},model:{value:a.formdata.jam_keluar,callback:function(e){a.$set(a.formdata,"jam_keluar",e)},expression:"formdata.jam_keluar"}})],1)],1),t("v-select",{attrs:{items:a.daftar_ruang_kelas,label:"RUANG KELAS",rules:a.rule_ruang_kelas,"item-text":"namaruang","item-value":"id",outlined:""},model:{value:a.formdata.ruang_kelas_id,callback:function(e){a.$set(a.formdata,"ruang_kelas_id",e)},expression:"formdata.ruang_kelas_id"}})],1),t("v-card-actions",[t("v-spacer"),t("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return e.stopPropagation(),a.closedialogfrm(e)}}},[a._v("BATAL")]),t("v-btn",{attrs:{color:"blue darken-1",text:"",loading:a.btnLoading,disabled:!a.form_valid||a.btnLoading},on:{click:function(e){return e.stopPropagation(),a.save(e)}}},[a._v(" SIMPAN ")])],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.nmatkul",fn:function(e){var t=e.item;return[a._v(" "+a._s(t.nmatkul)+" - "+a._s(a.$store.getters["uiadmin/getNamaKelas"](t.idkelas))+" ")]}},{key:"item.jam_masuk",fn:function(e){var t=e.item;return[a._v(" "+a._s(t.jam_masuk)+"-"+a._s(t.jam_keluar)+" ")]}},a.CAN_ACCESS("AKADEMIK-PERKULIAHAN-PENYELENGGARAAN_STORE")?{key:"item.actions",fn:function(e){var n=e.item;return[t("v-btn",{attrs:{small:"",icon:""},on:{click:function(e){return e.stopPropagation(),a.$router.push("/akademik/perkuliahan/pembagiankelas/"+n.id+"/peserta")}}},[t("v-icon",[a._v(" mdi-account-child-outline ")])],1),t("v-btn",{attrs:{small:"",icon:"",loading:a.btnLoadingTable,disabled:a.btnLoadingTable},on:{click:function(e){return e.stopPropagation(),a.editItem(n)}}},[t("v-icon",[a._v(" mdi-pencil ")])],1),t("v-btn",{attrs:{small:"",icon:"",loading:a.btnLoadingTable,disabled:a.btnLoadingTable},on:{click:function(e){return e.stopPropagation(),a.deleteItem(n)}}},[t("v-icon",[a._v(" mdi-delete ")])],1)]}}:{key:"item.actions",fn:function(){return[a._v(" N.A ")]},proxy:!0},{key:"expanded-item",fn:function(e){var n=e.headers,i=e.item;return[t("td",{staticClass:"text-center",attrs:{colspan:n.length}},[t("v-col",{attrs:{cols:"12"}},[t("strong",[a._v("ID:")]),a._v(a._s(i.id)+" "),t("strong",[a._v("created_at:")]),a._v(a._s(a.$date(i.created_at).format("DD/MM/YYYY HH:mm"))+" "),t("strong",[a._v("updated_at:")]),a._v(a._s(a.$date(i.updated_at).format("DD/MM/YYYY HH:mm"))+" ")])],1)]}},{key:"no-data",fn:function(){return[a._v(" Data belum tersedia ")]},proxy:!0}],null,!0)})],1)],1)],1)],1)},i=[],r=t("5530"),s=t("1da1"),o=(t("a434"),t("96cf"),t("e60c")),l=t("e477"),d=t("b602"),u=t("2f62"),m={name:"PerkuliahanPembagianKelas",created:function(){this.breadcrumbs=[{text:"HOME",disabled:!1,href:"/dashboard/"+this.$store.getters["auth/AccessToken"]},{text:"AKADEMIK",disabled:!1,href:"/akademik"},{text:"PERKULIAHAN",disabled:!1,href:"#"},{text:"PEMBAGIAN KELAS",disabled:!0,href:"#"}],this.tahun_akademik=this.$store.getters["uiadmin/getTahunAkademik"],this.semester_akademik=this.$store.getters["uiadmin/getSemesterAkademik"],this.initialize()},data:function(){return{firstloading:!0,tahun_akademik:null,semester_akademik:null,btnLoading:!1,btnLoadingTable:!1,datatableLoading:!1,expanded:[],datatable:[],headers:[{text:"KODE",value:"kmatkul",sortable:!0,width:100},{text:"NAMA MATAKULIAH/KELAS",value:"nmatkul",sortable:!0},{text:"NAMA DOSEN",value:"nama_dosen",sortable:!0},{text:"HARI",value:"nama_hari",sortable:!0,width:100},{text:"JAM",value:"jam_masuk",sortable:!0,width:100},{text:"RUANG",value:"namaruang",sortable:!0,width:100},{text:"JUMLAH PESERTA",value:"jumlah_mhs",sortable:!0,width:100},{text:"AKSI",value:"actions",sortable:!1,width:120}],search:"",dialogfrm:!1,form_valid:!0,daftar_ruang_kelas:[],daftar_hari:[{text:"SENIN",value:1},{text:"SELASA",value:2},{text:"RABU",value:3},{text:"KAMIS",value:4},{text:"JUMAT",value:5},{text:"SABTU",value:6}],formdata:{id:"",idkelas:"",hari:"",jam_masuk:"",jam_keluar:"",penyelenggaraan_dosen_id:"",ruang_kelas_id:""},formdefault:{id:"",idkelas:"",hari:"",jam_masuk:"",jam_keluar:"",penyelenggaraan_dosen_id:"",ruang_kelas_id:""},rule_hari:[function(a){return!!a||"Mohon dipilih hari mengajar!!!"}],rule_jam_masuk:[function(a){return!!a||"Mohon diisi jam masuk mengajar!!!"},function(a){return/^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/.test(a)||"Format jam masuk mengajar hh:mm, misalnya 15:30"}],rule_jam_keluar:[function(a){return!!a||"Mohon diisi jam keluar mengajar!!!"},function(a){return/^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/.test(a)||"Format jam keluar mengajar hh:mm, misalnya 15:00"}],rule_ruang_kelas:[function(a){return!!a||"Mohon dipilih ruang kelas mengajar!!!"}]}},methods:{changeTahunAkademik:function(a){this.tahun_akademik=a},changeSemesterAkademik:function(a){this.semester_akademik=a},initialize:function(){var a=Object(s["a"])(regeneratorRuntime.mark((function a(){var e=this;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return this.datatableLoading=!0,a.next=3,this.$ajax.post("/akademik/perkuliahan/pembagiankelas",{ta:this.tahun_akademik,semester_akademik:this.semester_akademik},{headers:{Authorization:this.$store.getters["auth/Token"]}}).then((function(a){var t=a.data;e.datatable=t.pembagiankelas,e.datatableLoading=!1})).catch((function(){e.datatableLoading=!1}));case 3:this.firstloading=!1,this.$refs.filter2.setFirstTimeLoading(this.firstloading);case 5:case"end":return a.stop()}}),a,this)})));function e(){return a.apply(this,arguments)}return e}(),dataTableRowClicked:function(a){a===this.expanded[0]?this.expanded=[]:this.expanded=[a]},editItem:function(a){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$ajax.get("/datamaster/ruangankelas",{headers:{Authorization:e.$store.getters["auth/Token"]}}).then((function(t){var n=t.data;e.daftar_ruang_kelas=n.ruangan,e.formdata=Object.assign({},a),e.dialogfrm=!0}));case 2:case"end":return t.stop()}}),t)})))()},save:function(){var a=Object(s["a"])(regeneratorRuntime.mark((function a(){var e=this;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!this.$refs.frmdata.validate()){a.next=4;break}return this.btnLoading=!0,a.next=4,this.$ajax.post("/akademik/perkuliahan/pembagiankelas/"+this.formdata.id,{_method:"PUT",hari:this.formdata.hari,jam_masuk:this.formdata.jam_masuk,jam_keluar:this.formdata.jam_keluar,ruang_kelas_id:this.formdata.ruang_kelas_id},{headers:{Authorization:this.$store.getters["auth/Token"]}}).then((function(){e.btnLoading=!1,e.closedialogfrm(),e.initialize()})).catch((function(){e.btnLoading=!1}));case 4:case"end":return a.stop()}}),a,this)})));function e(){return a.apply(this,arguments)}return e}(),deleteItem:function(a){var e=this;this.$root.$confirm.open("Delete","Apakah Anda ingin menghapus pembagian kelas matakuliah ("+a.nmatkul+") ?",{color:"red",width:600,desc:"proses ini membuat mahasiswa tidak memiliki kelas."}).then((function(t){t&&(e.btnLoadingTable=!0,e.$ajax.post("/akademik/perkuliahan/pembagiankelas/"+a.id,{_method:"DELETE"},{headers:{Authorization:e.$store.getters["auth/Token"]}}).then((function(){var t=e.datatable.indexOf(a);e.datatable.splice(t,1),e.btnLoadingTable=!1})).catch((function(){e.btnLoadingTable=!1})))}))},closedialogfrm:function(){var a=this;this.dialogfrm=!1,setTimeout((function(){a.formdata=Object.assign({},a.formdefault),a.$refs.frmdata.reset()}),300)}},watch:{tahun_akademik:function(){this.firstloading||this.initialize()},semester_akademik:function(){this.firstloading||this.initialize()}},computed:Object(r["a"])({},Object(u["b"])("auth",{CAN_ACCESS:"can"})),components:{AkademikLayout:o["a"],ModuleHeader:l["a"],Filter2:d["a"]}},c=m,k=t("2877"),h=t("6544"),f=t.n(h),_=t("0798"),g=t("2bc5"),b=t("8336"),v=t("b0af"),p=t("99d9"),A=t("62ad"),x=t("a523"),j=t("8fea"),E=t("169a"),T=t("ce7e"),y=t("4bd4"),L=t("132d"),S=t("0fd9"),w=t("b974"),M=t("2fa4"),$=t("8654"),C=t("71d9"),K=t("2a7f"),N=Object(k["a"])(c,n,i,!1,null,null,null);e["default"]=N.exports;f()(N,{VAlert:_["a"],VBreadcrumbs:g["a"],VBtn:b["a"],VCard:v["a"],VCardActions:p["b"],VCardText:p["d"],VCardTitle:p["e"],VCol:A["a"],VContainer:x["a"],VDataTable:j["a"],VDialog:E["a"],VDivider:T["a"],VForm:y["a"],VIcon:L["a"],VRow:S["a"],VSelect:w["a"],VSpacer:M["a"],VTextField:$["a"],VToolbar:C["a"],VToolbarTitle:K["c"]})}}]);